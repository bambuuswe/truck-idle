<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<title>Idle Truck Tycoon üöõ</title>

<style>
body{
  background:linear-gradient(135deg,#1e1e2f,#2e2e4f);
  color:white;
  font-family:Arial, sans-serif;
  text-align:center;
  padding:30px;
}
h1{font-size:2.5em}
.money{font-size:1.8em;margin:10px}

.card{
  background:rgba(255,255,255,.1);
  border-radius:14px;
  padding:15px;
  margin:15px auto;
  max-width:360px;
}

button{
  padding:8px 16px;
  border:none;
  border-radius:8px;
  background:#4caf50;
  color:white;
  cursor:pointer;
  margin:4px;
}
button:disabled{
  background:#555;
  cursor:not-allowed;
}

#map button{
  background:#2196f3;
}
#map button.locked{
  background:#555;
}

select{
  padding:6px;
  border-radius:6px;
}

.float{
  position:fixed;
  color:#7CFF7C;
  font-weight:bold;
  animation:floatUp 1s ease-out forwards;
  pointer-events:none;
}

@keyframes floatUp{
  from{opacity:1;transform:translateY(0)}
  to{opacity:0;transform:translateY(-40px)}
}
</style>
</head>

<body>

<h1>üöõ Idle Truck Tycoon</h1>

<div class="money">üí∞ <span id="money">0</span> kr</div>
<div>üí∏ <span id="income">0</span> kr / sek</div>

<!-- MAP -->
<div class="card">
  <h3>üó∫Ô∏è Karta</h3>
  <div id="map">
    <button id="stockholm" onclick="selectCity('stockholm')">üèôÔ∏è Stockholm</button>
    <button id="gothenburg" onclick="selectCity('gothenburg')">üåâ G√∂teborg</button>
    <button id="berlin" onclick="selectCity('berlin')">üåç Berlin</button>
  </div>
  <p>Vald stad: <b><span id="cityName"></span></b></p>
</div>

<!-- ROUTE -->
<div class="card">
  <h3>üõ£Ô∏è Rutt</h3>
  <select id="route" onchange="save()">
    <option value="1">üèôÔ∏è Stad (x1)</option>
    <option value="1.5">üõ£Ô∏è Motorv√§g (x1.5)</option>
    <option value="2">üåç Internationell (x2)</option>
  </select>
</div>

<!-- VOLVO -->
<div class="card">
  <h2>üöö Volvo FH</h2>
  <p>Bas: 1 kr/sek</p>
  <p>√Ñgda: <span id="volvo">0</span></p>
  <p>Upgrade lvl: <span id="volvoUp">0</span></p>
  <button onclick="buyVolvo()">K√∂p (10)</button>
  <button onclick="upgradeVolvo()">Upgrade (25)</button>
</div>

<!-- SCANIA -->
<div class="card">
  <h2>üöõ Scania R</h2>
  <p>Bas: 5 kr/sek</p>
  <p>√Ñgda: <span id="scania">0</span></p>
  <p>Upgrade lvl: <span id="scaniaUp">0</span></p>
  <button onclick="buyScania()">K√∂p (50)</button>
  <button onclick="upgradeScania()">Upgrade (100)</button>
</div>

<script>
/* ===== SAVE DATA ===== */
let money = +localStorage.money || 0;
let volvo = +localStorage.volvo || 0;
let scania = +localStorage.scania || 0;
let volvoUp = +localStorage.volvoUp || 0;
let scaniaUp = +localStorage.scaniaUp || 0;
let city = localStorage.city || "stockholm";

/* ===== ROUTES & CITIES ===== */
const routeSelect = document.getElementById("route");
routeSelect.value = localStorage.route || 1;

const cities = {
  stockholm:{name:"Stockholm",mult:1,req:0},
  gothenburg:{name:"G√∂teborg",mult:1.5,req:20},
  berlin:{name:"Berlin",mult:2.5,req:100}
};

/* ===== INCOME ===== */
function income(){
  let base =
    volvo * (1 + volvoUp*0.5) +
    scania * (5 + scaniaUp*2);
  return Math.floor(base * routeSelect.value * cities[city].mult);
}

/* ===== FLOAT ANIMATION ===== */
function floatMoney(amount){
  if(amount<=0) return;
  let d=document.createElement("div");
  d.className="float";
  d.textContent=`+${amount} kr`;
  d.style.left="50%";
  d.style.top="60%";
  document.body.appendChild(d);
  setTimeout(()=>d.remove(),1000);
}

/* ===== GAME LOOP ===== */
function tick(){
  let inc = income();
  money += inc;
  floatMoney(inc);
  save();
  ui();
}

/* ===== UI ===== */
function ui(){
  moneyEl.textContent = Math.floor(money);
  incomeEl.textContent = income();
  volvoEl.textContent = volvo;
  scaniaEl.textContent = scania;
  volvoUpEl.textContent = volvoUp;
  scaniaUpEl.textContent = scaniaUp;
  cityName.textContent = cities[city].name;

  for(let c in cities){
    let btn=document.getElementById(c);
    btn.classList.toggle("locked", income() < cities[c].req);
  }
}

/* ===== ACTIONS ===== */
function buyVolvo(){ if(money>=10){money-=10;volvo++;save();ui();} }
function buyScania(){ if(money>=50){money-=50;scania++;save();ui();} }
function upgradeVolvo(){ if(money>=25){money-=25;volvoUp++;save();ui();} }
function upgradeScania(){ if(money>=100){money-=100;scaniaUp++;save();ui();} }

function selectCity(c){
  if(income() >= cities[c].req){
    city = c;
    save();
    ui();
  }
}

/* ===== SAVE ===== */
function save(){
  localStorage.money = money;
  localStorage.volvo = volvo;
  localStorage.scania = scania;
  localStorage.volvoUp = volvoUp;
  localStorage.scaniaUp = scaniaUp;
  localStorage.route = routeSelect.value;
  localStorage.city = city;
}

/* ===== ELEMENTS ===== */
const moneyEl = document.getElementById("money");
const incomeEl = document.getElementById("income");
const volvoEl = document.getElementById("volvo");
const scaniaEl = document.getElementById("scania");
const volvoUpEl = document.getElementById("volvoUp");
const scaniaUpEl = document.getElementById("scaniaUp");
const cityName = document.getElementById("cityName");

/* ===== START ===== */
setInterval(tick,1000);
ui();
</script>

</body>
</html>
